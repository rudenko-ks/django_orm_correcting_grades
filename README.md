# Взламываем электронный дневник
Скрипт применяется для взлома базы данных из репозитория ["Электронный дневник школы"](https://github.com/devmanorg/e-diary).
Функционал для продвинутых зумеров. Данный скрипт позволяет исправлять плохие оценки на хорошие, удалять жалобы и добавлять хорошие отзывы учителей.

## Подготовка
Для выполнения скрипта необходим доступ к рабочей версии электронного дневника или развернуть его локально. Для этого необходимо:
- Скачать архив с [тестовой БД](https://dvmn.org/filer/canonical/1562234129/166/).
- Скачать ["Электронный дневник школы"](https://github.com/devmanorg/e-diary).
- Установить приложение и настроить переменные окружения в соответствии с [инструкцией](https://github.com/devmanorg/e-diary#запуск) в оригинальном репозитории.
- Запустить приложение. Главная страница располагается по адресу http://localhost:8000/.

## Установка и использование 
1. Скачать скрипт.
2. Скопируйте файл  `scripts.py`  на сервер в папку приложения электронного дневника рядом с файлом `manage.py`.
3. Запустите Django shell в терминале используя команду `python manage.py shell`. [Подробнее ](https://www.csestack.org/open-python-shell-django/)Django shell.
4. Импортируйте в Django shell содержимое файла `scripts.py` командой `from scripts import *`.
5. Внесите изменения в БД при помощи импортированных функций:
	- **fix_marks(name)**
	```
	>>> fix_marks('Фролов Игорь')
	```
	Принимает в качестве аргумента имя ученика.
	Исправляет плохие оценки (двойки и тройки) ученика на пятёрки.
	При отсутствии ученика с таким именем или если их несколько - выводит сообщение в консоль и завершает работу.

	- **remove_chastisements(name)**
	```
	>>> remove_chastisements('Фролов Игорь')
	```
	Принимает в качестве аргумента имя ученика	.
	При отсутствии ученика с таким именем или если их несколько - выводит сообщение в консоль и завершает работу.
	

	- **create_commendation(name, subject)**
	```
	>>> create_commendation('Фролов Иван', 'Математика')
	```
	Принимает в качестве аргумента имя ученика и название предмета урока.	Добавляет ученику хороший отзыв от учителя к уроку по указанному предмету. Урок выбирается случайным образом.
	При отсутствии ученика с таким именем или если их несколько - выводит сообщение в консоль и завершает работу.
	Если название предмета введено некорректно - выводит сообщение и список доступных предметов, после чего завершает работу. 
6. Проверьте изменения в дневнике по адресу http://localhost:8000/

### Цель проекта

Код написан в образовательных целях на онлайн-курсе для веб-разработчиков  [dvmn.org](https://dvmn.org/).
> Written with [StackEdit](https://stackedit.io/).